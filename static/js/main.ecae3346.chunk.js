(this["webpackJsonpsocket-io-game"]=this["webpackJsonpsocket-io-game"]||[]).push([[0],{47:function(e,t,n){e.exports=n(90)},52:function(e,t,n){},53:function(e,t,n){},82:function(e,t){},90:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"counter",(function(){return M}));var r=n(0),c=n.n(r),o=n(9),u=n.n(o),l=(n(52),n(1)),i=(n(53),n(37)),s=n.n(i),m=n(6);function f(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),a=n[0],o=n[1],u=Object(r.useState)([]),i=Object(l.a)(u,2),s=i[0],f=i[1];return Object(r.useEffect)((function(){return e.socket.on("message sent",(function(e,t,n){f((function(a){return[].concat(Object(m.a)(a),[{player:{name:t,id:n},chatMsg:e}])}))})),e.socket.on("private msg sent",(function(e){f((function(t){return[].concat(Object(m.a)(t),[{player:{name:"CONSOLE",id:"0"},chatMsg:e}])}))})),e.socket.on("player join",(function(e){f((function(t){return[].concat(Object(m.a)(t),[{player:{name:"CONSOLE",id:"0"},chatMsg:e}])}))})),e.socket.on("player leave",(function(e){f((function(t){return[].concat(Object(m.a)(t),[{player:{name:"CONSOLE",id:"0"},chatMsg:e}])}))})),function(){return e.socket.disconnect()}}),[]),c.a.createElement("div",null,"Welcome, ",c.a.createElement("strong",null,e.userName),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.target.reset(),e.socket.emit("send message",a,e.userName,e.socket.id)}},c.a.createElement("input",{type:"text",placeholder:"Chat Here",onChange:function(e){o(e.target.value)}})),"Messages:",c.a.createElement("br",null),s.map((function(t){return c.a.createElement("div",null,t.player.name!==e.userName?c.a.createElement("a",{href:t.player.name,onClick:function(n){return function(t,n){t.preventDefault(),e.socket.emit("send private msg","",e.userName,n)}(n,t.player)}},c.a.createElement("strong",null,t.player.name)):c.a.createElement("strong",null,t.player.name),c.a.createElement("br",null),t.chatMsg)})))}function p(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){e.socket.emit("get textarea"),e.socket.on("receive textarea",(function(e){o(e)})),e.socket.on("textarea updated",(function(e){o(e)}))}),[]),c.a.createElement("div",null,"Notepad:",c.a.createElement("br",null),c.a.createElement("form",null,c.a.createElement("textarea",{onChange:function(t){o(t.target.value),e.socket.emit("update textarea",t.target.value)},value:a,rows:"40",cols:"100",placeholder:"Start typing here, for real-time peer programming"})))}var g=n(38),E=n(39),d=n(46),b=n(45),v={jukeoff:"/crappyjuke.png",jukeon:"/crappyjukeon.png"},h=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={play:!1,open:!0},e.audio=new Audio("/fontcolorsea.mp3"),e.toggleImage=function(){e.setState((function(e){return{open:!e.open}}))},e.getImageName=function(){return e.state.open?"jukeoff":"jukeon"},e.togglePlay=function(){e.setState({play:!e.state.play},(function(){e.audio.volume=.1,e.state.play?e.audio.play():e.audio.pause()}))},e.toggleBoth=function(){e.toggleImage(),e.togglePlay()},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this.getImageName();return c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("img",{src:v[e],onClick:this.toggleBoth,alt:"crappyjukebox"})))}}]),n}(r.Component),j={"force new connection":!0,reconnectionAttempts:"infinity",timeout:1e4,transports:["websocket"]};function O(){var e=s()("localhost:3001",j),t=Object(r.useState)(""),n=Object(l.a)(t,2),a=n[0],o=n[1],u=Object(r.useState)(!1),i=Object(l.a)(u,2),m=i[0],g=i[1],E=Object(r.useState)(""),d=Object(l.a)(E,2),b=d[0],v=d[1];return Object(r.useEffect)((function(){return e.on("user set",(function(t){o(t),g(!0),e.emit("user set successful")})),e.on("user exists",(function(t){v(t),g(!1),setTimeout((function(){return v("")}),2e3),e.emit("user set unsuccessful")})),function(){return e.disconnect()}}),[]),c.a.createElement("div",null,m?c.a.createElement("div",null,c.a.createElement(p,{socket:e}),c.a.createElement(f,{socket:e,userName:a}),c.a.createElement(h,null)):c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.emit("set username",t.target.input.value),t.target.reset()}},"Enter a Username:",c.a.createElement("br",null),c.a.createElement("input",{type:"text",name:"input",placeholder:"Username"}),c.a.createElement("button",{type:"submit"},"Enter the Chat")),c.a.createElement("br",null),b))}var y=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement("button",{onClick:function(){return a((function(e){return!e}))}},"Stop/Start Client"),c.a.createElement("header",{className:"App-header"},n?c.a.createElement(O,null):"Client Offline"))},k=n(3),S=n(40),N=n(41),w=n(42),C="INCREMENT",x="DECREMENT",M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return e+t.amount;case x:return e-t.amount;default:return e}},I=Object(k.combineReducers)(a),A=Object(S.createLogger)({collapsed:!0}),D=Object(w.composeWithDevTools)(Object(k.applyMiddleware)(N.a,A)),B=Object(k.createStore)(I,D),L=n(44);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(L.a,{store:B},c.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.ecae3346.chunk.js.map